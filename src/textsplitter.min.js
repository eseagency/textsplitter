function textsplitter(t){t.each(function(){var t=$(this),e=t.html();if(t.removeClass("cb-ts__active"),!t.find(".cb-ts__item").length){var s=$(this).attr("cb-textreveal-type"),a=/(?![^<]*>)[^<\s]+/g;"character"===s?a=/(?![^<]*>)[^<\s]/g:"full"===s&&(a=/(?![^<]*>)[^<]+/g);var l=e.replace(a,t=>`<span class="cb-ts__wrapper"><span class="cb-ts__item">${t}</span></span>`);t.html(l),t.find("[cb-textreveal-element=element]").each(function(){var t=$(this)[0].outerHTML.split(/<span class="cb-ts__wrapper"><span class="cb-ts__item">(.*?)<\/span><\/span>/g).filter(Boolean).join("");$(this).wrapAll("<div>").parent().html(`<div class="cb-ts-el__wrapper"><div class="cb-ts-el__item">${t}</div></div>`)});var n=t.find(".cb-ts__item, .cb-ts-el__item");n.each(function(t){$(this).attr("style","--index: "+t+";")}),t.attr("style","--length: "+n.length),t.addClass("cb-ts__visible")}})}try{Weglot.on("languageChanged",function(){textsplitter($("[cb-textreveal-element=text]"))}),Weglot.on("initialized",function(){Weglot.getCurrentLang()===Weglot.options.language_from&&textsplitter($("[cb-textreveal-element=text]"))})}catch(t){textsplitter($("[cb-textreveal-element=text]"))}